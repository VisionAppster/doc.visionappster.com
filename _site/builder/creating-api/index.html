
<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Creating an API &mdash; VisionAppster  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/docsearch.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/v.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script defer="defer" src="../../_static/js/docsearch.min.js"></script>
        <script defer="defer" src="../../_static/js/algolia.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="Creating components" href="../creating-components/" />
    <link rel="prev" title="Builder" href="../" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <div data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search" >
        

        
          <a href="../../">
        

        
          
          <img src="../../_static/visionappster.png" class="logo" alt="Logo">
        
        </a>

        
          
          
        

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <nav class="wy-nav-side-inner">
        <div class="wy-side-scroll">
          
          <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
                
              
              
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../install/">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../engine/">Engine</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">Builder</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../#first-steps">First steps</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Creating an API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../creating-components/">Creating components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../compounds/">Compound tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../app-api/">App API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/">Built-in tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/">APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../components/">Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cameras/">Cameras</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cookbook/">Cookbook</a></li>
</ul>

              
            
          </div>
          
        </div>
      </nav>
    </div>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../">VisionAppster</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../">Builder</a> &raquo;</li>
        
      <li>Creating an API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="creating-an-api">
<h1>Creating an API<a class="headerlink" href="#creating-an-api" title="Permalink to this headline">🔗</a></h1>
<p>In many cases, the vision app is not a stand-alone application but a
part of a bigger system. Although it is possible to handle all external
interfaces such as cameras, network connections and I/O devices in the
processing graph, the usual way is to expose a public API. Here, we’ll
make our simple application to publish a single API function that lets
client software to send an image for analysis.</p>
<p>First, open the <a class="reference internal" href="../"><span class="doc">Monochromatizer app</span></a> in the Builder:
press Ctrl+O, click the name of the project directory
(“Monochromatizer”) and click “OK” or “Choose”. The exact looks of the
file dialog depends on your operating system.</p>
<p>Since we are going to let clients send the image through the API, we
don’t need a default value for the <code class="docutils literal notranslate"><span class="pre">image</span></code> input parameter. Reset the
default value to an empty image by clicking the minus button in the
value editor</p>
<div class="figure align-default" id="id1">
<img alt="Reset the default value of the image input." src="../../_images/builder-reset-image-input.png" />
<p class="caption"><span class="caption-text">Reset the default value of the image input.</span><a class="headerlink" href="#id1" title="Permalink to this image">🔗</a></p>
</div>
<p>Right-click the tool to open a context menu. Select “Properties…”.</p>
<div class="figure align-default" id="id2">
<img alt="Use the context menu to configure tools." src="../../_images/builder-tool-context-menu.png" />
<p class="caption"><span class="caption-text">Use the context menu to configure tools.</span><a class="headerlink" href="#id2" title="Permalink to this image">🔗</a></p>
</div>
<p>Tick the “Publish tool function API” checkbox to expose the tool in the
public API of the app. Add the <code class="docutils literal notranslate"><span class="pre">image</span></code> input and <code class="docutils literal notranslate"><span class="pre">image</span></code> output
parameters to the interface by ticking the “Publish” checkbox. Accept
the changes. You’ll see that the tool now has a nifty cloud icon. All of
its inputs became disabled because the input data now comes through the
API.</p>
<div class="figure align-default" id="id3">
<img alt="Select which parameters should go into an API function." src="../../_images/builder-tool-properties.png" />
<p class="caption"><span class="caption-text">Select which parameters should go into an API function.</span><a class="headerlink" href="#id3" title="Permalink to this image">🔗</a></p>
</div>
<p>Click the API button on the top right corner of the window to see what
your API looks like.</p>
<div class="figure align-default" id="id4">
<img alt="The API editor shows the public API of the app." src="../../_images/builder-api-editor.png" />
<p class="caption"><span class="caption-text">The API editor shows the public API of the app.</span><a class="headerlink" href="#id4" title="Permalink to this image">🔗</a></p>
</div>
<p>The Builder has an embedded HTTP server that lets you to test your app’s
API while the app is running in the Builder. The server can be
controlled by clicking the “HTTP” text on the status line. To activate
the API you need to start the app by pressing F5. This enables the “Open
in browser” button in the API editor. Let’s click it to open an API
tester web page in your default browser.</p>
<div class="figure align-default" id="id5">
<img alt="The Builder’s built-in HTTP server provides a web GUI for testing APIs." src="../../_images/builder-browser-api-tester.png" />
<p class="caption"><span class="caption-text">The Builder’s built-in HTTP server provides a web GUI for testing
APIs.</span><a class="headerlink" href="#id5" title="Permalink to this image">🔗</a></p>
</div>
<p>You can now use the browser or any other HTTP client to send images to
your app for analysis. If you switch back to the builder, you can see
the images there.</p>
<p>The browser-based API tester GUI can be used to test tool API functions.
There is no ready-made GUI for other types of APIs, but it is easy to
write your own client as explained <a class="reference internal" href="../app-api/"><span class="doc">here</span></a>.</p>
<p>You are done with the API. Save the project by pressing Ctrl+S. It is
time to <a class="reference internal" href="../creating-components/"><span class="doc">create an installable component
package</span></a>.</p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../creating-components/" class="btn btn-neutral float-right" title="Creating components" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../" class="btn btn-neutral float-left" title="Builder" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, VisionAppster.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-129514554-1', 'auto');
    
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>