
<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Package file format &mdash; VisionAppster  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/docsearch.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/v.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script defer="defer" src="../../_static/js/docsearch.min.js"></script>
        <script defer="defer" src="../../_static/js/algolia.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="Cameras" href="../../cameras/" />
    <link rel="prev" title="Installing and uninstalling" href="../installing/" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <div data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search" >
        

        
          <a href="../../">
        

        
          
          <img src="../../_static/visionappster.png" class="logo" alt="Logo">
        
        </a>

        
          
          
        

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <nav class="wy-nav-side-inner">
        <div class="wy-side-scroll">
          
          <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
                
              
              
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../install/">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../engine/">Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../builder/">Builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/">Built-in tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/">APIs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">Components</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../#component-id">Component ID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../#component-version">Component version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../#full-component-id">Full component ID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../#component-name">Component name</a></li>
<li class="toctree-l2"><a class="reference internal" href="../#external-dependencies">External dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../building/">Building component packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cross-compilation/">Cross-compilation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation/">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installing/">Installing and uninstalling</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Package file format</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#general-configuration">General configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#checksums">Checksums</a></li>
<li class="toctree-l3"><a class="reference internal" href="#signatures">Signatures</a></li>
<li class="toctree-l3"><a class="reference internal" href="#copy-protection">Copy protection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#licenses">Licenses</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apps">Apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="#web-apps">Web apps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#special-file-types">Special file types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#saved-tools">Saved tools</a></li>
<li class="toctree-l4"><a class="reference internal" href="#binary-plugins">Binary plugins</a></li>
<li class="toctree-l4"><a class="reference internal" href="#python-tool-plugins">Python tool plugins</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#resource-files">Resource files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../cameras/">Cameras</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cookbook/">Cookbook</a></li>
</ul>

              
            
          </div>
          
        </div>
      </nav>
    </div>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../">VisionAppster</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../">Components</a> &raquo;</li>
        
      <li>Package file format</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="package-file-format">
<h1>Package file format<a class="headerlink" href="#package-file-format" title="Permalink to this headline">🔗</a></h1>
<p>Component packages are ordinary zip files with a <code class="docutils literal notranslate"><span class="pre">.vapkg</span></code> file name
extension. A component package can contain multiple components and a
license. This makes it possible to distribute a fully functional
component with all of its dependencies in a single file.</p>
<div class="section" id="structure">
<h2>Structure<a class="headerlink" href="#structure" title="Permalink to this headline">🔗</a></h2>
<p>When component packages are created by the Builder, they include exactly
one component.</p>
<p>The structure of a component package is, for example, as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">mvp</span><span class="o">/</span>
<span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">mvp</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span>
<span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">mvp</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="n">component</span><span class="o">.</span><span class="n">json</span>
<span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">mvp</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="n">component</span><span class="o">.</span><span class="n">json</span><span class="o">.</span><span class="n">crt</span>
<span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">mvp</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="n">windows</span><span class="o">-</span><span class="n">x86_64</span><span class="o">/</span><span class="n">plugin</span><span class="o">.</span><span class="n">toolplugin</span>
<span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">mvp</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="n">linux</span><span class="o">-</span><span class="n">x86_64</span><span class="o">/</span><span class="n">plugin</span><span class="o">.</span><span class="n">toolplugin</span>
<span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">mvp</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="n">macos</span><span class="o">-</span><span class="n">x86_64</span><span class="o">/</span><span class="n">plugin</span><span class="o">.</span><span class="n">toolplugin</span>
<span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">mvp</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="n">linux</span><span class="o">-</span><span class="n">arm</span><span class="o">/</span><span class="n">plugin</span><span class="o">.</span><span class="n">toolplugin</span>
<span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">mvp</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="n">Fancy</span><span class="o">.</span><span class="n">toolc</span>
<span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">mvp</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="n">model</span><span class="o">.</span><span class="n">onnx</span>
</pre></div>
</div>
<p>Each component is stored under a path that is composed of the component
ID and the major version number of the component. This means that
multiple copies of the same component with different major versions can
coexists. Different minor or patch versions don’t need to because the
requirement is that they are backwards compatible within the major
version.</p>
<p>The file system structure of the component itself can be anything, but
the example above shows the conventions that should be followed for
directory names. The <code class="docutils literal notranslate"><span class="pre">component.json</span></code> file is a manifest that contains
basic information about the component and describes how each file should
be interpreted.</p>
</div>
<div class="section" id="general-configuration">
<h2>General configuration<a class="headerlink" href="#general-configuration" title="Permalink to this headline">🔗</a></h2>
<p>Each version directory must contain a file called <code class="docutils literal notranslate"><span class="pre">component.json</span></code>.
The contents of this file are as follows:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;componentId&quot;</span><span class="p">:</span> <span class="s2">&quot;com.visionappster.mvp&quot;</span><span class="p">,</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.2.3&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;VisionAppster most valuable product&quot;</span><span class="p">,</span>
  <span class="nt">&quot;archs&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;windows-x86_64&quot;</span><span class="p">,</span>
    <span class="s2">&quot;linux-x86_64&quot;</span><span class="p">,</span>
    <span class="s2">&quot;linux-arm_32&quot;</span><span class="p">,</span>
    <span class="s2">&quot;macos-x86_64&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;arch&quot;</span><span class="p">:</span> <span class="s2">&quot;windows-x86_64&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;windows-x86_64/plugin.toolplugin&quot;</span><span class="p">,</span>
      <span class="nt">&quot;checksum&quot;</span><span class="p">:</span> <span class="s2">&quot;21258fdfd376ccce934f9364e55a47242e610101&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;toolplugin&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;arch&quot;</span><span class="p">:</span> <span class="s2">&quot;linux-x86_64&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;linux-x86_64/plugin.toolplugin&quot;</span><span class="p">,</span>
      <span class="nt">&quot;checksum&quot;</span><span class="p">:</span> <span class="s2">&quot;e5fa44f2b31c1fb553b6021e7360d07d5d91ff5e&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;toolplugin&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;arch&quot;</span><span class="p">:</span> <span class="s2">&quot;macos-x86_64&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;macos-x86_64/plugin.toolplugin&quot;</span><span class="p">,</span>
      <span class="nt">&quot;checksum&quot;</span><span class="p">:</span> <span class="s2">&quot;7448d8798a4380162d4b56f9b452e2f6f9e24e7a&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;toolplugin&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;arch&quot;</span><span class="p">:</span> <span class="s2">&quot;linux-arm_32&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;linux-arm_32/plugin.toolplugin&quot;</span><span class="p">,</span>
      <span class="nt">&quot;checksum&quot;</span><span class="p">:</span> <span class="s2">&quot;5d9474c0309b7ca09a182d888f73b37a8fe1362c&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;toolplugin&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;Fancy.toolc&quot;</span><span class="p">,</span>
      <span class="nt">&quot;checksum&quot;</span><span class="p">:</span> <span class="s2">&quot;a8fdc205a9f19cc1c7507a60c4f01b13d11d7fd0&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;tool&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;model.onnx&quot;</span><span class="p">,</span>
      <span class="nt">&quot;checksum&quot;</span><span class="p">:</span> <span class="s2">&quot;39e342e32171661a2b44916687b0fc2514fe58bc&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;depends&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;componentId&quot;</span><span class="p">:</span> <span class="s2">&quot;com.l33tcoder.fancycomponent/1&quot;</span><span class="p">,</span>
      <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;=1.2&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;componentId&quot;</span><span class="p">:</span> <span class="s2">&quot;system.engine/3&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that the checksums are shortened for display. The actual sums are
longer.</p>
<p>The file must contain the <code class="docutils literal notranslate"><span class="pre">componentId</span></code> and <code class="docutils literal notranslate"><span class="pre">version</span></code> keys.
<code class="docutils literal notranslate"><span class="pre">componentId</span></code> must match the directory name. If a component contains
<a class="reference internal" href="../../api/c/reference/va_plugin.h/"><span class="doc">binary plugins</span></a> such as tool plugins
or device drivers, the <code class="docutils literal notranslate"><span class="pre">COMPONENT_ID</span></code> parameter of the
<code class="docutils literal notranslate"><span class="pre">VA_IMPLEMENT_PLUGIN</span></code> or <code class="docutils literal notranslate"><span class="pre">VA_IMPLEMENT_LICENSED_PLUGIN</span></code> macro must
also match the component ID. The <code class="docutils literal notranslate"><span class="pre">version</span></code> field contains the exact
version number of the component.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">name</span></code> field is strictly required for the VisionAppster Store
only, but giving a human-readable name to a component is good practice.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">archs</span></code> fields provides a way to list the architectures the
component supports. If the component contains no architecture-dependent
machine code and therefore runs on any platform, <code class="docutils literal notranslate"><span class="pre">archs</span></code> can be
omitted. The final list of supported architectures is the intersection
of the <code class="docutils literal notranslate"><span class="pre">archs</span></code> lists of all dependent components and the component
itself.</p>
<p>If the component requires other components to be functional, those
components are listed in the <code class="docutils literal notranslate"><span class="pre">depends</span></code> array. The <code class="docutils literal notranslate"><span class="pre">componentId</span></code>
field contains the full component ID of the dependency and optionally a
<code class="docutils literal notranslate"><span class="pre">version</span></code> field that specifies the compatible version numbers. Note
that because dependencies always contain the major version number,
different major versions of a component are always considered
incompatible.</p>
<p>Compatible version numbers can be specified either as a string that
contains a single rule or an array of such rule strings. If an array of
strings is given, all rules must be matched (logical <em>and</em>). Each rule
contains an operator and a three-part version number in which trailing
zeros may be omitted.</p>
<p>Recognized operators are <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> and <code class="docutils literal notranslate"><span class="pre">=</span></code>. For
example, <code class="docutils literal notranslate"><span class="pre">[&quot;&gt;=2.2&quot;,</span> <span class="pre">&quot;&lt;=2.6&quot;]</span></code> states that the version number must be
between 2.2 and 2.6, inclusive. Special care must be taken with equality
and less than checks. Normally they should not be used because upgrades
within the same major version are required to be compatible and thus
always allowed. They may be useful if a bug is known to break a certain
version.</p>
<p>In dependencies, component IDs starting with “system.” refer to system
components and let one to specify version requirements for the
underlying VisionAppster runtime. In the example above, the component
specifies it requires Engine with major version 3.</p>
<p>Finally, the <code class="docutils literal notranslate"><span class="pre">files</span></code> array lists all files contained in the package.
Each must be accompanied with the <code class="docutils literal notranslate"><span class="pre">filename</span></code> and <code class="docutils literal notranslate"><span class="pre">checksum</span></code> keys. If
<code class="docutils literal notranslate"><span class="pre">type</span></code> is omitted, the file is treated as a generic resource file with
no special meaning.</p>
</div>
<div class="section" id="checksums">
<h2>Checksums<a class="headerlink" href="#checksums" title="Permalink to this headline">🔗</a></h2>
<p>All files must be accompanied with a checksum, which is a 64-byte
<a class="reference external" href="https://blake2.net/">Blake2b</a> hash of the file’s contents,
represented as a hexadecimal number with lowercase letters (128
characters in total). The checksum is used to make sure that a licensed
file has not been modified after publication. It is also used to ensure
the integrity of all other files and for detecting if a file has been
changed by the user after installation. This information is useful when
uninstalling a component. Loading a licensed file will fail if the
checksum of a file doesn’t match.</p>
</div>
<div class="section" id="signatures">
<h2>Signatures<a class="headerlink" href="#signatures" title="Permalink to this headline">🔗</a></h2>
<p>When a component package is distributed through the VisionAppster Store,
<code class="docutils literal notranslate"><span class="pre">component.json</span></code> and possible license files must be digitally signed
by the Store. The signature is stored in a <code class="docutils literal notranslate"><span class="pre">.crt</span></code> file alongside the
signed file. If an installed component has a signature, its validity
will be checked when loading the component. Licensed components
distributed through the Store can only be loaded if they have a valid
signature.</p>
</div>
<div class="section" id="copy-protection">
<h2>Copy protection<a class="headerlink" href="#copy-protection" title="Permalink to this headline">🔗</a></h2>
<p>The VisionAppster engine provides protection against unauthorized
copying of licensed files. Currently, saved tools (<code class="docutils literal notranslate"><span class="pre">.toolc</span></code>) and
binary plugins (<code class="docutils literal notranslate"><span class="pre">.toolplugin</span></code>, <code class="docutils literal notranslate"><span class="pre">.datalink</span></code>) can be protected.</p>
<p>To protect a binary plugin all one needs to do is to use the
<code class="docutils literal notranslate"><span class="pre">VA_IMPLEMENT_LICENSED_PLUGIN</span></code> macro (details
<a class="reference internal" href="../../api/c/reference/va_plugin.h/"><span class="doc">here</span></a>) and pass it the component’s ID
and version. This embeds a component ID check to the auto-generated
plugin code. The platform verifies the integrity of the plugin binary
and the validity of its license.</p>
<p>On the command line, <code class="docutils literal notranslate"><span class="pre">va-pkg</span> <span class="pre">tool</span> <span class="pre">encrypt</span></code> can be used to encrypt tool
files. This will transform the (about human-readable) <code class="docutils literal notranslate"><span class="pre">.tool</span></code> files
into <code class="docutils literal notranslate"><span class="pre">.toolc</span></code> files that can only be opened if they have a valid
digital signature. Such a signature can be generated using
<code class="docutils literal notranslate"><span class="pre">va-pkg</span> <span class="pre">sign</span></code>.</p>
</div>
<div class="section" id="licenses">
<h2>Licenses<a class="headerlink" href="#licenses" title="Permalink to this headline">🔗</a></h2>
<p>A component package can optionally contain license files and their
signatures in a directory called <code class="docutils literal notranslate"><span class="pre">licenses</span></code>. This makes it possible to
craft self-contained packages that don’t require extra licensing steps
after installation.</p>
<p>In addition to the license file and its certificate, a component package
can contain a configuration file (<code class="docutils literal notranslate"><span class="pre">licenses/config</span></code>) that contains the
information required to fetch a new license file from the Store. The
file format is such that it can be easily parsed in any programming
language and the shell. Two variables are currently recognized: <code class="docutils literal notranslate"><span class="pre">url</span></code>
specifies where a new license file can be obtained for the user and
<code class="docutils literal notranslate"><span class="pre">token</span></code> is an API token for authorization.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="na">url</span><span class="o">=</span><span class="s">https://public-api.visionappster.com/1/licenses/license.vapkg</span>
<span class="na">token</span><span class="o">=</span><span class="s">6ee144ad0bbb4bf8aeb4f292febbe5d1</span>
</pre></div>
</div>
<div class="section" id="apps">
<h3>Apps<a class="headerlink" href="#apps" title="Permalink to this headline">🔗</a></h3>
<p>The structure of a component package containing a single analysis
<a class="reference internal" href="../../engine/apps/"><span class="doc">app</span></a> is like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">awesome</span><span class="o">.</span><span class="n">app</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span>
<span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">awesome</span><span class="o">.</span><span class="n">app</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="n">component</span><span class="o">.</span><span class="n">json</span>
<span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">awesome</span><span class="o">.</span><span class="n">app</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="n">component</span><span class="o">.</span><span class="n">json</span><span class="o">.</span><span class="n">crt</span>
<span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">awesome</span><span class="o">.</span><span class="n">app</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="n">appconfig</span><span class="o">.</span><span class="n">json</span>
<span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">awesome</span><span class="o">.</span><span class="n">app</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="n">main</span><span class="o">.</span><span class="n">qml</span>
<span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">awesome</span><span class="o">.</span><span class="n">app</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="n">engine</span><span class="o">.</span><span class="n">toolc</span>
</pre></div>
</div>
<p>The contents of <code class="docutils literal notranslate"><span class="pre">component.json</span></code> would be as follows:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;componentId&quot;</span><span class="p">:</span> <span class="s2">&quot;com.visionappster.awesome.app&quot;</span><span class="p">,</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;So cool app&quot;</span><span class="p">,</span>
  <span class="nt">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;eaec7b02-9ce0-4bbb-acde-50c26be0f35a&quot;</span><span class="p">,</span>
  <span class="nt">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;appconfig.json&quot;</span><span class="p">,</span>
      <span class="nt">&quot;checksum&quot;</span><span class="p">:</span> <span class="s2">&quot;7d97e98f8af710c7e7fe703abc8f639e0ee507c4&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;app&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;main.qml&quot;</span><span class="p">,</span>
      <span class="nt">&quot;checksum&quot;</span><span class="p">:</span> <span class="s2">&quot;b8bd228ae7f3ff0934cfe36708053db68cabcaf7&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;engine.toolc&quot;</span><span class="p">,</span>
      <span class="nt">&quot;checksum&quot;</span><span class="p">:</span> <span class="s2">&quot;75dffe083d16dee7f91404a1b66d37088da21379&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;depends&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;componentId&quot;</span><span class="p">:</span> <span class="s2">&quot;com.visionappster.mvp/1&quot;</span><span class="p">,</span>
      <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;=1.0.0&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;componentId&quot;</span><span class="p">:</span> <span class="s2">&quot;system.engine/2&quot;</span><span class="p">,</span>
      <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;=2.9&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">type</span></code> of <code class="docutils literal notranslate"><span class="pre">appconfig.json</span></code> is <code class="docutils literal notranslate"><span class="pre">app</span></code>, which tells the Engine to
treat it as an executable application. The <code class="docutils literal notranslate"><span class="pre">appconfig.json</span></code> contains
execution instructions such as a reference to the main component
(<code class="docutils literal notranslate"><span class="pre">main.qml</span></code>).</p>
<p>Although there is a digital signature for the <code class="docutils literal notranslate"><span class="pre">component.json</span></code> file
and a checksum for all of the app’s files, this is only for integrity
checking and keeping things consistent, not for enforcing the license of
the app’s script code (<code class="docutils literal notranslate"><span class="pre">main.qml</span></code>). There is no way to identify the
script code, which means that nothing prevents users from copying the
file and running the app elsewhere. The copied app will however fail if
it tries to load the <code class="docutils literal notranslate"><span class="pre">engine.toolc</span></code> file.</p>
<p>An important thing to note is that the <code class="docutils literal notranslate"><span class="pre">type</span></code> of <code class="docutils literal notranslate"><span class="pre">engine.toolc</span></code> is
not specified. If it was, the Engine would make
<code class="docutils literal notranslate"><span class="pre">com.visionappster.awesome.app/1/engine</span></code> available as a tool
everywhere. This may be wanted sometimes, but in a typical use case the
tool is not generally usable and loaded directly from the file by the
app’s script code. Therefore, it is considered just another file in the
package.</p>
</div>
<div class="section" id="web-apps">
<h3>Web apps<a class="headerlink" href="#web-apps" title="Permalink to this headline">🔗</a></h3>
<p>For the VisionAppster engine, web apps are just files that are served
through the built-in web server. In the simplest case, the structure of
the component package can be for example like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">awesome</span><span class="o">.</span><span class="n">web</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span>
<span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">awesome</span><span class="o">.</span><span class="n">web</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="n">component</span><span class="o">.</span><span class="n">json</span>
<span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">awesome</span><span class="o">.</span><span class="n">web</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="n">component</span><span class="o">.</span><span class="n">json</span><span class="o">.</span><span class="n">crt</span>
<span class="n">com</span><span class="o">.</span><span class="n">visionappster</span><span class="o">.</span><span class="n">awesome</span><span class="o">.</span><span class="n">web</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="n">index</span><span class="o">.</span><span class="n">html</span>
</pre></div>
</div>
<p>The contents of <code class="docutils literal notranslate"><span class="pre">component.json</span></code> would be:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;componentId&quot;</span><span class="p">:</span> <span class="s2">&quot;com.visionappster.awesome.web&quot;</span><span class="p">,</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.1&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Cooler than ice web app&quot;</span><span class="p">,</span>
  <span class="nt">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;d816b989-8ebe-4701-9847-4d4658233484&quot;</span><span class="p">,</span>
  <span class="nt">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;index.html&quot;</span><span class="p">,</span>
      <span class="nt">&quot;checksum&quot;</span><span class="p">:</span> <span class="s2">&quot;244aa7266b3f5a08321b403b2c59baeba5539b19&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;webapp&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Here, the <code class="docutils literal notranslate"><span class="pre">type</span></code> field is optional because any file in the component
can be accessed through the Engine’s web server under
<code class="docutils literal notranslate"><span class="pre">/components/com.visionappster.awesome.web/1/</span></code>. The <code class="docutils literal notranslate"><span class="pre">type</span></code> however
makes it possible for the Engine’s front page to know that there
actually is something that is intended to be used as a web user
interface.</p>
<p>It is possible for a web app to depend on another web app. For example,
it is possible to create a library component that only provides
JavaScript files other apps depend on. Such library components just
don’t have an <code class="docutils literal notranslate"><span class="pre">index.html</span></code> that would work as the user interface. In
other web apps, the files in the library will be accessible using URLs
that are relative to the server’s root, for example
<code class="docutils literal notranslate"><span class="pre">/components/com.visionappster.weblib/1/library.js</span></code>.</p>
<p>It is also possible to <a class="reference internal" href="../../engine/web-apps/"><span class="doc">bundle the web page</span></a> with
all of its resources into a single zip archive. In this case the zip
works as if it was a directory. This approach has some performance
benefits. By convention, webapp zips should have a <code class="docutils literal notranslate"><span class="pre">.webapp</span></code> file name
extension.</p>
</div>
</div>
<div class="section" id="special-file-types">
<h2>Special file types<a class="headerlink" href="#special-file-types" title="Permalink to this headline">🔗</a></h2>
<div class="section" id="saved-tools">
<h3>Saved tools<a class="headerlink" href="#saved-tools" title="Permalink to this headline">🔗</a></h3>
<p>If the <code class="docutils literal notranslate"><span class="pre">type</span></code> of a file is <code class="docutils literal notranslate"><span class="pre">tool</span></code>, the file contains an
architecture-independent tool saved by the Builder. The base name of the
tool file will be used as the name of the tool. It should be noted that
although the tool file itself is architecture-independent, it may refer
to native tools that are available on certain platforms only.</p>
</div>
<div class="section" id="binary-plugins">
<h3>Binary plugins<a class="headerlink" href="#binary-plugins" title="Permalink to this headline">🔗</a></h3>
<p>Binary plugins are compiled machine code and must thus be annotated with
an <code class="docutils literal notranslate"><span class="pre">arch</span></code> field that specifies the target processor architecture and
operating system. Three types of binary plugins are supported.</p>
<div class="section" id="tool-plugins">
<h4>Tool plugins<a class="headerlink" href="#tool-plugins" title="Permalink to this headline">🔗</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">type</span></code> of a tool plugin is <code class="docutils literal notranslate"><span class="pre">toolplugin</span></code>. As a convention, the
file name extension of a tool plugin is <code class="docutils literal notranslate"><span class="pre">.toolplugin</span></code>. The <a class="reference internal" href="../../api/c/tool/"><span class="doc">tool C
API</span></a> is used for creating native tool plugins.</p>
</div>
<div class="section" id="data-link-driver-plugins">
<h4>Data link driver plugins<a class="headerlink" href="#data-link-driver-plugins" title="Permalink to this headline">🔗</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">type</span></code> of a data link plugin is <code class="docutils literal notranslate"><span class="pre">datalinkdriverplugin</span></code>. As a
convention, the file name extension of a tool plugin is <code class="docutils literal notranslate"><span class="pre">.datalink</span></code>.
The <a class="reference internal" href="../../api/c/datalink/"><span class="doc">data link C API</span></a> is used for creating native
data link driver plugins.</p>
</div>
<div class="section" id="camera-driver-plugins">
<h4>Camera driver plugins<a class="headerlink" href="#camera-driver-plugins" title="Permalink to this headline">🔗</a></h4>
<p>Camera driver plugins are shared libraries that implement the <a class="reference external" href="https://www.emva.org/wp-content/uploads/GenICam_GenTL_1_5.pdf">GenICam
GenTL
API</a>.
To include such a plugin in the component package, the <code class="docutils literal notranslate"><span class="pre">type</span></code> field of
the file must be set to <code class="docutils literal notranslate"><span class="pre">cameradriverplugin</span></code>. When creating a
component package in the Builder, <code class="docutils literal notranslate"><span class="pre">type</span></code> is set to
<code class="docutils literal notranslate"><span class="pre">cameradriverplugin</span></code> for any files with the extension <code class="docutils literal notranslate"><span class="pre">.gentl</span></code> or
<code class="docutils literal notranslate"><span class="pre">.cti</span></code>.</p>
</div>
</div>
<div class="section" id="python-tool-plugins">
<h3>Python tool plugins<a class="headerlink" href="#python-tool-plugins" title="Permalink to this headline">🔗</a></h3>
<p>Python tool plugins contain tools implemented in Python. Their <code class="docutils literal notranslate"><span class="pre">type</span></code>
must be <code class="docutils literal notranslate"><span class="pre">pythontoolplugin</span></code>. By convention, the names of Python tool
plugin files follow the pattern <code class="docutils literal notranslate"><span class="pre">*toolplugin.py</span></code>, for example
<code class="docutils literal notranslate"><span class="pre">mytoolplugin.py</span></code>. Use the <a class="reference internal" href="../../api/python/tool/"><span class="doc">Python tool API</span></a> to
create tool plugins in Python.</p>
</div>
</div>
<div class="section" id="resource-files">
<h2>Resource files<a class="headerlink" href="#resource-files" title="Permalink to this headline">🔗</a></h2>
<p>A component may require external files to be functional. Typical
examples include images and machine learning models. Sometimes, these
can be baked into binaries, but this is not always possible or even
useful. The <code class="docutils literal notranslate"><span class="pre">type</span></code> of a resource file is <code class="docutils literal notranslate"><span class="pre">file</span></code> and can be omitted.</p>
<p>Whenever a component refers to a file in itself or another component at
run time, the path is relative to the component installation root
directory. The Engine resolves the full path based on the component ID
and version number of the referred component.</p>
<p>For example, if a component references
<code class="docutils literal notranslate"><span class="pre">res://com.example.foobar/1/model.onnx</span></code>, the Engine determines where
components are installed in the system and inserts the absolute root
path to the beginning. resulting e.g. in
<code class="docutils literal notranslate"><span class="pre">/opt/visionappster/components/com.example.foobar/1/model.onnx</span></code>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../../cameras/" class="btn btn-neutral float-right" title="Cameras" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../installing/" class="btn btn-neutral float-left" title="Installing and uninstalling" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, VisionAppster.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-129514554-1', 'auto');
    
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>