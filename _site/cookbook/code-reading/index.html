
<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Code reading &mdash; VisionAppster  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/docsearch.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/v.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script defer="defer" src="../../_static/js/docsearch.min.js"></script>
        <script defer="defer" src="../../_static/js/algolia.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="Contour matching" href="../contour-matching/" />
    <link rel="prev" title="Caliper" href="../caliper/" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <div data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search" >
        

        
          <a href="../../">
        

        
          
          <img src="../../_static/visionappster.png" class="logo" alt="Logo">
        
        </a>

        
          
          
        

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <nav class="wy-nav-side-inner">
        <div class="wy-side-scroll">
          
          <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
                
              
              
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../install/">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../engine/">Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../builder/">Builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/">Built-in tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/">APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../components/">Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cameras/">Cameras</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">Cookbook</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../analyze-blob-geometry/">Analyze Blob Geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../binarize/">Binarize</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blurring/">Blurring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../caliper/">Caliper</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Code reading</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="#downloads">Downloads</a></li>
<li class="toctree-l3"><a class="reference internal" href="#detailed-description">Detailed description</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../contour-matching/">Contour matching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../detect-blobs/">Detect Blobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../image-classifier/">Image classifier</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manual-calibration/">Manual Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../motion-detector/">Motion detector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../opencv-tools/">OpenCv Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-superresolution/">Super-resolution with OpenCV and Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-yolov4/">Yolo V4 object detection with OpenCV and Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../qr-positioning/">Positioning with QR codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../raspi-code-reading/">Code reading for Raspberry Pi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../texture-matching/">Texture matching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../unsharp-masking/">Unsharp Masking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../web-app/">Web app</a></li>
<li class="toctree-l2"><a class="reference internal" href="../white-balance/">White Balance Correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../yolo-classifier/">YOLO classifier</a></li>
</ul>
</li>
</ul>

              
            
          </div>
          
        </div>
      </nav>
    </div>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../">VisionAppster</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../">Cookbook</a> &raquo;</li>
        
      <li>Code reading</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="code-reading">
<h1>Code reading<a class="headerlink" href="#code-reading" title="Permalink to this headline">ðŸ”—</a></h1>
<iframe class="youtube" allowfullscreen="allowfullscreen" src="https://www.youtube.com/embed/ULA4sWa4voc?rel=0"></iframe><div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">ðŸ”—</a></h2>
<p>The code reading demo shows how to detect and decode QR codes and bar
codes.</p>
</div>
<div class="section" id="downloads">
<h2>Downloads<a class="headerlink" href="#downloads" title="Permalink to this headline">ðŸ”—</a></h2>
<ul class="simple">
<li><p><a class="reference download internal" download="" href="../../_downloads/893eaef7d0b10a70d27ec5858ccb030e/CookbookCodeReading.zip"><code class="xref download docutils literal notranslate"><span class="pre">Project</span> <span class="pre">file</span></code></a></p></li>
</ul>
</div>
<div class="section" id="detailed-description">
<h2>Detailed description<a class="headerlink" href="#detailed-description" title="Permalink to this headline">ðŸ”—</a></h2>
<p>Let us walk through the processing graph below from top to bottom.</p>
<div class="medium figure align-default" id="id1">
<img alt="The processing graph of the code reading demo." src="../../_images/code-reading-1.png" />
<p class="caption"><span class="caption-text">The processing graph of the code reading demo.</span><a class="headerlink" href="#id1" title="Permalink to this image">ðŸ”—</a></p>
</div>
<ul class="simple">
<li><p>The images originate from a virtual camera configured in <span class="xref std std-doc">Image
Source</span>.</p></li>
<li><p><span class="xref std std-doc">Crop Image</span> can be used for selecting a
part of the image for analysis. By default, <code class="docutils literal notranslate"><span class="pre">Size</span></code> is set to
<code class="docutils literal notranslate"><span class="pre">Whole</span> <span class="pre">Image</span></code> so the tool is in pass-through mode.</p></li>
<li><p><span class="xref std std-doc">Histogram</span> and <span class="xref std std-doc">Find
Threshold</span> tools determine the threshold
between white background and dark bars and modules in the code.</p></li>
</ul>
<p>Now the processing path is split into two branches. The rightmost one
detects and reads QR codes, whereas the left one detects and reads
barcodes. Otherwise the paths are symmetrical. Letâ€™s start with
barcodes.</p>
<ul>
<li><p><span class="xref std std-doc">Find Barcode</span> finds the positions of
barcodes in customary <code class="docutils literal notranslate"><span class="pre">Frame</span></code> and <code class="docutils literal notranslate"><span class="pre">Size</span></code> format. The intensity
threshold between the bars and the background comes from
<code class="docutils literal notranslate"><span class="pre">Find</span>&#160;&#160; <span class="pre">Threshold</span></code> tool. You can limit the maximum number of codes
the detector tries to find with the <code class="docutils literal notranslate"><span class="pre">Max</span> <span class="pre">Detections</span></code> input
parameter.</p>
<p>There is always some white space around the first and the last bars
of the barcode. This space is called a <em>quiet zone</em>. If you roughly
know how wide the quiet zone is in terms of world coordinates (or
pixels in case of uncalibrated camera), you can help the code finder
by setting the estimate in parameter <code class="docutils literal notranslate"><span class="pre">Quiet</span> <span class="pre">Zone</span>&#160;&#160; <span class="pre">Width</span></code>. If the
width is set as <code class="docutils literal notranslate"><span class="pre">Automatic</span></code>, the tool tries to guess it but does
not always get it right. The tool outputs sets of <code class="docutils literal notranslate"><span class="pre">Frame</span></code> and
<code class="docutils literal notranslate"><span class="pre">Size</span></code> matrices which locate the positions and orientations of the
found codes.</p>
</li>
<li><p><span class="xref std std-doc">Begin Iterate Tool</span> has been configured
to input the sets of frames and sizes from the detector. It splits
frame and size matrix sets back to single entities. For instance,
assume that there are four barcodes in the image. In this case
Iterate Tool splits the 16-by-4 frame matrix into four individual
4-by-4 matrices and the 4-by-2 size matrix into four 1-by-2 matrices.</p></li>
<li><p><span class="xref std std-doc">Read Barcode Tool</span> inputs the image and a
<code class="docutils literal notranslate"><span class="pre">Frame</span></code>/<code class="docutils literal notranslate"><span class="pre">Size</span></code>-locator and reads the code bounded by the box
defined by <code class="docutils literal notranslate"><span class="pre">Frame</span></code> and <code class="docutils literal notranslate"><span class="pre">Size</span></code>. Notice that the tool has two
different input methods for the code location. The method is chosen
with the <code class="docutils literal notranslate"><span class="pre">Reading</span> <span class="pre">Mode</span></code> parameter. The options are:</p>
<dl class="simple">
<dt>Single Line</dt><dd><p>the barcode is read along a line specified by start and end
points.</p>
</dd>
<dt>Area</dt><dd><p>the location of the barcode is set by <code class="docutils literal notranslate"><span class="pre">Frame</span></code> and <code class="docutils literal notranslate"><span class="pre">Size</span></code>.
This method is used in this example.</p>
</dd>
</dl>
<p>If you know the code type in advance (e.g. EAN-13, Code128 etc), you
can configure it with the <code class="docutils literal notranslate"><span class="pre">Code</span> <span class="pre">Type</span></code> input parameter. This makes
the reading faster and more reliable. If you donâ€™t know the code
type, set the value to <code class="docutils literal notranslate"><span class="pre">Auto-detect</span></code> which is the default.</p>
<p>The code contents and the detected code type are given as outputs.</p>
</li>
<li><p><span class="xref std std-doc">End Iterate Tool</span> is a counterpart to
<code class="docutils literal notranslate"><span class="pre">Begin</span> <span class="pre">Iterate</span> <span class="pre">Tool</span></code> described above. It stacks up entries received
in its inputs, producing either matrices or tables as output. In this
example, the entries received at <code class="docutils literal notranslate"><span class="pre">Element</span> <span class="pre">0</span></code> input are the code
strings and the entries at <code class="docutils literal notranslate"><span class="pre">Element</span> <span class="pre">1</span></code> are the code types. If there
are, say, four codes found in the original input image, the output at
<code class="docutils literal notranslate"><span class="pre">Result</span> <span class="pre">0</span></code> will be a 4-by-2 table. Notice that <code class="docutils literal notranslate"><span class="pre">Sync</span></code> input has
to be connected to the corresponding <code class="docutils literal notranslate"><span class="pre">Sync</span></code> output in
<code class="docutils literal notranslate"><span class="pre">Begin</span> <span class="pre">Iterate</span> <span class="pre">Tool</span></code>.</p></li>
</ul>
<div class="medium figure align-default" id="id2">
<img alt="Begin Iterate and End Iterate mark parts of the graph that are repeated." src="../../_images/code-reading-4.png" />
<p class="caption"><span class="caption-text">Begin Iterate and End Iterate mark parts of the graph that are
repeated.</span><a class="headerlink" href="#id2" title="Permalink to this image">ðŸ”—</a></p>
</div>
<ul class="simple">
<li><p><span class="xref std std-doc">JavaScript Tool</span> runs a simple script that
takes the table of strings and filters out the empty one. This is
necessary because sometimes the barcode is easier to find than it is
to read. If the reading fails, the reader produces an empty string
that is filtered out by the script.</p></li>
</ul>
<p>The processing sequence for QR code reading is nearly identical.</p>
<ul class="simple">
<li><p><span class="xref std std-doc">Find Matrix Code</span> inputs the image and
the intensity threshold as before. Again, you can limit the maximum
number of codes the detector tries to find with the
<code class="docutils literal notranslate"><span class="pre">Max</span>&#160;&#160; <span class="pre">Detections</span></code> parameter.</p></li>
</ul>
<p>The found position candidates are now iterated over just as they were in
barcode reading. The healthy codes are filtered by the script. The same
script is used by both QR and barcode readers. <img alt="Script which filters out empty strings" class="medium" src="../../_images/code-reading-3.png" /></p>
<p>The same image can contain both QR codes and barcodes.</p>
<div class="medium figure align-default" id="id3">
<img alt="Four QR codes and two different bar codes were detected." src="../../_images/code-reading-2.png" />
<p class="caption"><span class="caption-text">Four QR codes and two different bar codes were detected.</span><a class="headerlink" href="#id3" title="Permalink to this image">ðŸ”—</a></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../contour-matching/" class="btn btn-neutral float-right" title="Contour matching" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../caliper/" class="btn btn-neutral float-left" title="Caliper" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, VisionAppster.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-129514554-1', 'auto');
    
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>